<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping package="de.davelee.trams.data">

    <class name="Scenario" table="SCENARIO">
        <id name="id" column="ID">
            <generator class="native"/>
        </id>
        <list name="routes" lazy="true" cascade="all-delete-orphan" table="SCENARIO_ROUTES" inverse="false"> 
        	<key column="SCENARIO_ROUTE_ID"/> 
			<index column="POSITION_index"/> 
			<many-to-many unique="true" column="ID" class="Route"/> 
		</list>
        <list name="vehicles" lazy="true" cascade="all-delete-orphan" table="SCENARIO_VEHICLES" inverse="false"> 
        	<key column="SCENARIO_VEHICLE_ID"/> 
			<index column="POSITION_index"/> 
			<many-to-many unique="true" column="ID" class="Vehicle"/> 
		</list>
        <list name="drivers" lazy="true" cascade="all-delete-orphan" table="SCENARIO_DRIVERS" inverse="false"> 
        	<key column="SCENARIO_DRIVER_ID"/> 
			<index column="POSITION_index"/> 
			<many-to-many unique="true" column="ID" class="Driver"/> 
		</list>
        <property name="passengerSatisfaction" column="PASSENGER_SATISFACTION"/>
        <property name="playerName" column="PLAYER_NAME"/>
        <property name="balance" column="BALANCE"/>
        <property name="scenarioName" column="SCENARIO_NAME"/>
        <property name="description" column="DESCRIPTION"/>
        <property name="targets" column="TARGETS"/>
        <property name="minimumSatisfaction" column="MINIMUM_SATISFACTION"/>
        <property name="locationMapFileName" column="LOCATION_MAP_FILE_NAME"/>
        <list name="stops" lazy="true" cascade="all-delete-orphan" table="SCENARIO_STOPS" inverse="false"> 
        	<key column="SCENARIO_STOP_ID"/> 
			<index column="POSITION_index"/> 
			<many-to-many unique="true" column="ID" class="Stop"/> 
		</list>
		<map name="distances" lazy="true" cascade="all-delete-orphan" table="SCENARIO_DISTANCES" inverse="false"> 
        	<key column="SCENARIO_DISTANCE_ID"/> 
			<index column="property_name" type="string"/> 
			<many-to-many unique="true" column="ELEMENT" class="Distances"/> 
		</map>
    </class>

</hibernate-mapping>