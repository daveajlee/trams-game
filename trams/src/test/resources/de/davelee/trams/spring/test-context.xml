<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

       <import resource="scenario-context.xml"/>
       <import resource="vehicle-context.xml"/>
	   <import resource="database-context.xml"/>

		<bean id="driverDao" class="de.davelee.trams.dao.DriverDao">
			<property name="entityManager">
				<bean class = "org.springframework.orm.jpa.support.SharedEntityManagerBean">
					<property name = "entityManagerFactory" ref="entityManagerFactory"/>
				</bean>
			</property>
		</bean>

		<bean id="gameDao" class="de.davelee.trams.dao.GameDao">
			<property name="entityManager">
				<bean class = "org.springframework.orm.jpa.support.SharedEntityManagerBean">
					<property name = "entityManagerFactory" ref="entityManagerFactory"/>
				</bean>
			</property>
		</bean>

		<bean id="journeyDao" class="de.davelee.trams.dao.JourneyDao">
			<property name="entityManager">
				<bean class = "org.springframework.orm.jpa.support.SharedEntityManagerBean">
					<property name = "entityManagerFactory" ref="entityManagerFactory"/>
				</bean>
			</property>
	   	</bean>

		<bean id="journeyPatternDao" class="de.davelee.trams.dao.JourneyPatternDao">
			<property name="entityManager">
				<bean class = "org.springframework.orm.jpa.support.SharedEntityManagerBean">
					<property name = "entityManagerFactory" ref="entityManagerFactory"/>
				</bean>
			</property>
		</bean>

		<bean id="messageDao" class="de.davelee.trams.dao.MessageDao">
			<property name="entityManager">
				<bean class = "org.springframework.orm.jpa.support.SharedEntityManagerBean">
					<property name = "entityManagerFactory" ref="entityManagerFactory"/>
				</bean>
			</property>
		</bean>

		<bean id="routeDao" class="de.davelee.trams.dao.RouteDao">
			<property name="entityManager">
				<bean class = "org.springframework.orm.jpa.support.SharedEntityManagerBean">
					<property name = "entityManagerFactory" ref="entityManagerFactory"/>
				</bean>
			</property>
		</bean>

		<bean id="routeScheduleDao" class="de.davelee.trams.dao.RouteScheduleDao">
			<property name="entityManager">
				<bean class = "org.springframework.orm.jpa.support.SharedEntityManagerBean">
					<property name = "entityManagerFactory" ref="entityManagerFactory"/>
				</bean>
			</property>
		</bean>

		<bean id="stopDao" class="de.davelee.trams.dao.StopDao">
			<property name="entityManager">
				<bean class = "org.springframework.orm.jpa.support.SharedEntityManagerBean">
					<property name = "entityManagerFactory" ref="entityManagerFactory"/>
				</bean>
			</property>
		</bean>

		<bean id="stopTimeDao" class="de.davelee.trams.dao.StopTimeDao">
			<property name="entityManager">
				<bean class = "org.springframework.orm.jpa.support.SharedEntityManagerBean">
					<property name = "entityManagerFactory" ref="entityManagerFactory"/>
				</bean>
			</property>
		</bean>

		<bean id="timetableDao" class="de.davelee.trams.dao.TimetableDao">
			<property name="entityManager">
				<bean class = "org.springframework.orm.jpa.support.SharedEntityManagerBean">
					<property name = "entityManagerFactory" ref="entityManagerFactory"/>
				</bean>
			</property>
		</bean>

		<bean id="vehicleDao" class="de.davelee.trams.dao.VehicleDao">
			<property name="entityManager">
				<bean class = "org.springframework.orm.jpa.support.SharedEntityManagerBean">
					<property name = "entityManagerFactory" ref="entityManagerFactory"/>
				</bean>
			</property>
		</bean>
       
       <bean id="driverService" class="de.davelee.trams.services.DriverService">
		   <property name="driverDao" ref="driverDao"/>
       </bean>
       
       <bean id="routeService" class="de.davelee.trams.services.RouteService">
		   <property name="scenarioFactory" ref="scenarioFactory"/>
       </bean>
       
       <bean id="routeScheduleService" class="de.davelee.trams.services.RouteScheduleService">
       </bean>
       
       <bean id="journeyService" class="de.davelee.trams.services.JourneyService">
		   <property name="journeyDao" ref="journeyDao"/>
       </bean>
       
       <bean id="vehicleService" class="de.davelee.trams.services.VehicleService">
		    <property name="vehicleDao" ref="vehicleDao"/>
		    <property name="vehicleFactory" ref="vehicleFactory"/>
       </bean>
       
       <bean id="journeyPatternService" class="de.davelee.trams.services.JourneyPatternService">
       </bean>
       
       <bean id="timetableService" class="de.davelee.trams.services.TimetableService">
       </bean>
       
       <bean id="scenarioService" class="de.davelee.trams.services.ScenarioService">
		    <property name="scenarioFactory" ref="scenarioFactory"/>
       </bean>
       
       <bean id="gameService" class="de.davelee.trams.services.GameService">
		   <property name="gameDao" ref="gameDao"/>
       </bean>

		<bean id="messageService" class="de.davelee.trams.services.MessageService">
			<property name="messageDao" ref="messageDao"/>
		</bean>

		<bean id="fileService" class="de.davelee.trams.services.FileService">
		</bean>

</beans>